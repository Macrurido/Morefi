<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Example-Analysis • Morefi</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Example-Analysis">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Morefi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/Morefi.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Example-Analysis.html">Example-Analysis</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Example-Analysis</h1>
            <h3 data-toc-skip class="subtitle">Biometrics as a fishery
management tool</h3>
                        <h4 data-toc-skip class="author">Hugo
Aguirre-Villaseñor</h4>
            
            <h4 data-toc-skip class="date">25 June 2025</h4>
      

      <div class="d-none name"><code>Example-Analysis.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="morphological-relationships-of-bullseye-puffer-sphoeroides-annulatus-and-their-potential-use-in-fishery-management">Morphological relationships of bullseye puffer <em>Sphoeroides
annulatus</em> and their potential use in fishery management<a class="anchor" aria-label="anchor" href="#morphological-relationships-of-bullseye-puffer-sphoeroides-annulatus-and-their-potential-use-in-fishery-management"></a>
</h2>
<div class="float">
<img src="https://github.com/Macrurido/Morefi/blob/master/vignettes/images/S_annulatus.png" style="height:125.0%" alt="Bullseye puffer Sphoeroides annulatus (Jenyns 1842)."><div class="figcaption">Bullseye puffer <em>Sphoeroides annulatus</em>
(Jenyns 1842).</div>
</div>
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
<p>The <em>Morefi</em> package: <em>Morphological Relationships Fitted
by Robust Regression</em>. It is a methodological package developed in R
to analyze the submitted article:</p>
<p>Aguirre-Villaseñor, H., Morales-Bojórquez, E., Cisneros-Mata
(FISH13711). Biometric relationships as a fisheries management tool: A
case study of the bullseye puffer (<em>Sphoeroides annulatus</em>.
Tetraodontidae). Fisheries Research.</p>
<p>The objective of this study is to provide quantitative data on some
morphological relationships to predict:</p>
<ol style="list-style-type: lower-alpha">
<li>the biomass of different weight categories,</li>
<li>the fillet yield from body measurements and</li>
<li>the suitability of the fillet yield to be used as a management
reference point for the bullseye puffer <em>Sphoeroides
annulatus</em>.</li>
</ol>
<p>For this, two exercises are proposed using 250 g of fillet
(benchmark) as a reference: (i) how many organisms are required to
obtain the benchmark by changing the average length? (ii) taking into
account that five is the maximum number of organisms of a species
allowed for recreational fishing per person per day, what is the average
size to reach the benchmark?</p>
</div>
<div class="section level3">
<h3 id="tutorial-objective">Tutorial objective<a class="anchor" aria-label="anchor" href="#tutorial-objective"></a>
</h3>
<p>The goal of this tutorial is to replicate the analysis performed in
the submitted article Aguirre et al. (FISH13711) step by step, while
explaining the functionality of the <a href="https://github.com/Macrurido/Morefi" class="external-link"><em>Morefi</em> package
<em>Morphological Relationships Fitted by Robust Regression</em></a>,
developed in R. This package streamlines the methodology and improves
the clarity and impact of the results, as well as the graphical
presentations, including personalized tables and figures.</p>
<p><img src="https://github.com/Macrurido/Morefi/blob/master/vignettes/images/Morefi.png" style="height:30.0%"></p>
</div>
<div class="section level3">
<h3 id="instaling-morefi">Instaling Morefi<a class="anchor" aria-label="anchor" href="#instaling-morefi"></a>
</h3>
<p>The Morefi package includes functions that facilitate data analysis
and ensure reproducibility of results.For more information about the
functions, please visit the <a href="https://macrurido.github.io/Morefi/">Morefi</a> GitHub page.</p>
<p>To install this package from GitHub do the following from the R
console:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://macrurido.github.io/Morefi/">"Morefi"</a></span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span><span class="op">)</span></span>
<span>        <span class="fu">install_github</span><span class="op">(</span><span class="st">"Macrurido/Morefi"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://macrurido.github.io/Morefi/">Morefi</a></span><span class="op">)</span>        </span>
<span><span class="op">}</span> </span></code></pre></div>
<p>When Morefi is installed, it either updates the necessary package or
installs it if it is not already present.</p>
<!-- En teoría si quito los que estan referenciados en Morefi debe de jalar,
Debo quitar todo lo referente a embellecer tablas, revisar que paquetes quedan y cuales no
-->
<p>To make sure that all the necessary packages for this example are up
to date, they are defined in the packages vector. If a package is
already installed, it will be loaded; if not, it will be installed and
then loaded.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">packages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"broom"</span>, <span class="st">"dplyr"</span>,<span class="st">"ggplot2"</span>, <span class="st">"ggtext"</span>, <span class="st">"glue"</span>,</span>
<span>              <span class="st">"investr"</span>, <span class="st">"kableExtra"</span>, <span class="st">"latex2exp"</span>, <span class="st">"Morefi"</span>,</span>
<span>              <span class="st">"patchwork"</span>, <span class="st">"purrr"</span>, <span class="st">"reshape2"</span>, <span class="st">"robustbase"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="va">packages</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va">i</span>, character.only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="va">i</span>, dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">i</span>, character.only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">}</span>  <span class="co"># End if</span></span>
<span><span class="op">}</span> <span class="co"># End for</span></span></code></pre></div>
<div class="section level4">
<h4 id="theme_papers">theme_papers()<a class="anchor" aria-label="anchor" href="#theme_papers"></a>
</h4>
<p>The <code>theme_papers</code> is created to standardize the graphic
format, used as base <code>theme_bw</code>. The <code>theme_set()</code>
function is used to apply the theme to all charts automatically. It’s
not necessary to add <code>+ theme_papers()</code> after each ggplot
snippet.</p>
<p>To call the <code><a href="../reference/theme_papers.html">theme_papers()</a></code> function and automatically
apply it to all figures in this document, use the following
statement:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">theme_papers</span> <span class="op">&lt;-</span> <span class="fu">Morefi</span><span class="fu">::</span><span class="fu"><a href="../reference/theme_papers.html">theme_papers</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">theme_set</span><span class="op">(</span><span class="va">theme_papers</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h4>
<p>In Morefi, the data utilized in Aguirre-Villaseñor et al. (Submitted)
is incorporated.</p>
<p>In the file <code>Botete</code> there is the biometric data of the
bullseye puffer <em>S. annulatus</em>, with the following variables,
three lengths (cm): total (LT), standard (LS) and body trunk (LB); and
three weights (g): total (WT); body trunk (WB) and fillet (Wfi).
Additionally, there is a categorical variable called ‘Fleet’ that
distinguishes between artisanal (fresh) and trawling (frozen-thawed),
represented by the values 1 and 2, respectively.</p>
<p>To access the data file, the data frame is stored in
<code>mydata</code>.</p>
<pre><code><span><span class="co">#&gt; 'data.frame':    1397 obs. of  7 variables:</span></span>
<span><span class="co">#&gt;  $ LT   : num  21 22 12 21 12 28.4 29.3 34.8 31.7 31.5 ...</span></span>
<span><span class="co">#&gt;  $ LS   : num  17.3 17.6 10 17.3 10 23 24.2 27.5 25.5 26 ...</span></span>
<span><span class="co">#&gt;  $ LB   : num  17 15 10 15 8.5 20 20.5 27 23 24 ...</span></span>
<span><span class="co">#&gt;  $ WT   : num  189.1 213.4 33.4 236.7 36 ...</span></span>
<span><span class="co">#&gt;  $ WB   : num  115.6 86.7 15.4 100.4 18.9 ...</span></span>
<span><span class="co">#&gt;  $ Wfi  : num  50.7 55.5 6.9 65 9.1 ...</span></span>
<span><span class="co">#&gt;  $ Fleet: Factor w/ 2 levels "1","2": 2 2 2 1 2 1 2 1 1 1 ...</span></span></code></pre>
<p>A second dataset, <code>Botete_land</code>, contains records of
pufferfish catches landed along the Mexican Pacific coast in 2023,
measured in kilograms (kg). It includes information about the landed
weight categorized as <strong>landed</strong>, as well as its conversion
to live weight, referred to as <strong>biomass</strong>, for each
landing presentation. The dataset outlines total weight (WT), body trunk
weight (WB), and fillet weight (Wfi). Additionally, it specifies whether
the catch was fresh or frozen-thawed. The dataset also includes the
value of the landed catch in Mexican pesos (<strong>Pesos $</strong>)
and the value per kilogram of landed weight (<strong>Pesos_kg</strong>)
(SIPESCA, 2024).</p>
<p>To access the data file, the data frame is stored in
<code>catch</code>.</p>
<pre><code><span><span class="co">#&gt;          Category  Landed   Biomass    Pesos  Pesos_kg</span></span>
<span><span class="co">#&gt; 1        WT_Fresh  509354  509354.0  33079.5  41.49873</span></span>
<span><span class="co">#&gt; 2        WB_Fresh  449646  494610.6  58048.0  52.05232</span></span>
<span><span class="co">#&gt; 3 WB_Fresh_Thawed  361404  451755.0  37997.0  54.77369</span></span>
<span><span class="co">#&gt; 4       Wfi_Fresh   47990   95980.0  16485.0 112.83715</span></span>
<span><span class="co">#&gt; 5           Total 1368394 1551699.6 145609.5  50.97446</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="metodology">Metodology<a class="anchor" aria-label="anchor" href="#metodology"></a>
</h3>
<div class="section level4">
<h4 id="defining-the-models">Defining the models<a class="anchor" aria-label="anchor" href="#defining-the-models"></a>
</h4>
<p>Eight relationships are fitted, six to a simple linear model: LT vs
LS, LT vs LB, LS vs LB, WT vs WB, WT vs Wfi, WB vs Wfi; and three to a
potential model: LT vs WT, LT vs WB, LT vs Wfi.</p>
<p>To perform each regression, a list named <code>modelos</code> is
created to specify the variables that will be included. These variables
are then stored in a vector.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">modelos</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span> <span class="op">(</span>LTvs.LS  <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>,</span>
<span>                 LTvs.LB  <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span>,</span>
<span>                 LSvs.LB  <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>,</span>
<span>                 WTvs.WB  <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span>,</span>
<span>                 WTvs.Wfi <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">6</span><span class="op">)</span>,</span>
<span>                 WBvs.Wfi <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span>,</span>
<span>                 LTvs.WT  <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span><span class="op">)</span>,</span>
<span>                 LTvs.WB  <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span><span class="op">)</span>,</span>
<span>                 LTvs.Wfi <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="labellers">Labellers<a class="anchor" aria-label="anchor" href="#labellers"></a>
</h4>
<p>The labelers designated for use in this script are outlined
below.</p>
<div class="section level5">
<h5 id="model-labelers">Model labelers<a class="anchor" aria-label="anchor" href="#model-labelers"></a>
</h5>
<p>For the model labelers, the parameters include subscripts, and the
customized labels for the plots are stored in the variable
<code>my_labeller</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">my_labeller</span> <span class="op">&lt;-</span> <span class="fu">as_labeller</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>LT_LS<span class="op">=</span>  <span class="st">"L[T]-L[S]"</span>,</span>
<span>                             LT_LB<span class="op">=</span>  <span class="st">"L[T]-L[B]"</span>,</span>
<span>                             LS_LB<span class="op">=</span>  <span class="st">"L[S]-L[B]"</span>,</span>
<span>                             WT_WB<span class="op">=</span>  <span class="st">"W[T]-W[B]"</span>,</span>
<span>                             WT_Wfi<span class="op">=</span> <span class="st">"W[T]-W[fi]"</span>,</span>
<span>                             WB_Wfi<span class="op">=</span> <span class="st">"W[B]-W[fi]"</span>,</span>
<span>                             LT_WT<span class="op">=</span>  <span class="st">"L[T]-W[T]"</span>,</span>
<span>                             LT_WB<span class="op">=</span>  <span class="st">"L[T]-W[B]"</span>,</span>
<span>                             LT_Wfi<span class="op">=</span> <span class="st">"L[T]-W[fi]"</span><span class="op">)</span>,</span>
<span>                           default <span class="op">=</span> <span class="va">label_parsed</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="variable-labelers-for-the-plots-">Variable labelers for the plots.<a class="anchor" aria-label="anchor" href="#variable-labelers-for-the-plots-"></a>
</h5>
<p>For the variable labelers, the variables include subscripts, and the
customized labels for the plots are stored in the variable
<code>my_labeller</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_labeller2</span> <span class="op">&lt;-</span> <span class="fu">as_labeller</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>LT<span class="op">=</span>  <span class="st">"L[T]"</span>,</span>
<span>                             LS<span class="op">=</span>  <span class="st">"L[S]"</span>,</span>
<span>                             LB<span class="op">=</span>  <span class="st">"L[B]"</span>,</span>
<span>                             WT<span class="op">=</span>  <span class="st">"W[T]x"</span>,</span>
<span>                             WB<span class="op">=</span>  <span class="st">"W[B]"</span>,</span>
<span>                             Wfi<span class="op">=</span> <span class="st">"W[fi]"</span><span class="op">)</span>,</span>
<span>                             default <span class="op">=</span> <span class="va">label_parsed</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="variable-labelers-for-the-tables-">Variable labelers for the tables.<a class="anchor" aria-label="anchor" href="#variable-labelers-for-the-tables-"></a>
</h5>
<p>The ‘row_name’ holds labels for the models used in the tables, which
will replace the current values in the ‘Models’ column of the data frame
for the table design. Defining model labels using subscript characters
for the tables.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Defining model labels using subscript characters for the tables.</span></span>
<span><span class="va">row_name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"$L_T$ vs. $L_S$"</span>, <span class="st">"$L_T$ vs. $L_B$"</span>,</span>
<span>              <span class="st">"$L_S$ vs. $L_B$"</span>, <span class="st">"$W_T$ vs. $W_B$"</span>,</span>
<span>              <span class="st">"$W_T$ vs. $W_fi$"</span>, <span class="st">"$W_B$ vs. $W_fi$"</span>,</span>
<span>              <span class="st">"$L_T$ vs. $W_T$"</span>, <span class="st">"$L_T$ vs. $W_B$"</span>,</span>
<span>              <span class="st">"$L_T$ vs. $W_T$"</span><span class="op">)</span></span></code></pre></div>
<!-- Hay que depurar y ver si todo se queda o ya se mejoro con los últimos cambios -->
</div>
</div>
<div class="section level4">
<h4 id="regression-results-">Regression results.<a class="anchor" aria-label="anchor" href="#regression-results-"></a>
</h4>
<p><strong>Empty tables and lists to fill, throughout the
cycles.</strong></p>
<p>To organize and present the results of the regression analysis,
several tables were created based on <code>List_base</code>.</p>
<p>To store the results for each model from every data source, nested
lists were developed. This structure allows for a hierarchical or
multi-level organization of the data. At the first level, the datasets
are categorized into three groups: Fresh, Frozen-thawed (Frozen), and
Total sample (Total). At the second level, sub-lists provide the results
from various fitted models <code>model_list</code>.</p>
<p>The number of items in a list and their names depend on the fitted
model of <em>x against y</em>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create empty model list  </span></span>
<span><span class="va">model_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">modelos</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="cn">NULL</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">modelos</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">List_base</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"Fresh"</span><span class="op">=</span> <span class="va">model_list</span>,</span>
<span>                  <span class="st">"Frozen"</span><span class="op">=</span> <span class="va">model_list</span>,</span>
<span>                  <span class="st">"Total"</span> <span class="op">=</span> <span class="va">model_list</span><span class="op">)</span></span></code></pre></div>
<p>Using <code>List_base</code></p>
<div class="section level5">
<h5 id="summary-regression-table-">Summary Regression Table.<a class="anchor" aria-label="anchor" href="#summary-regression-table-"></a>
</h5>
<p>To store the summary regression, a customised table <code>T1</code>
is generated. The type of function model (<strong>Linear</strong> or
<strong>Potential</strong>), and its variables, are indicated in the
first two columns. The third column indicates the data source used
(<strong>Fresh</strong>, <strong>Fresh-Thawed</strong>, or
<strong>Total</strong>). By row it is stored: the
<strong>Intercept</strong>, its confidence interval
<strong>(CI95%)</strong>; the <strong>Slope</strong>; its
<strong>(CI95%)</strong>; the adjusted robust coefficient of
determination <strong>R2,adj,w,a</strong> and the degrees of freedom
<strong>DF</strong>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>    <span class="co"># An empty table to save summary regression results   </span></span>
<span> </span>
<span><span class="va">T1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="cn">NA</span>, nrow <span class="op">=</span> <span class="fl">3</span>, ncol <span class="op">=</span> <span class="fl">9</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">T1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Function"</span>, <span class="st">"Model"</span>,<span class="st">"Categories"</span>,</span>
<span>               <span class="st">"Intercept"</span>, <span class="st">"CI95%"</span>,<span class="st">"Slope"</span>,</span>
<span>               <span class="st">"CI95%"</span>, <span class="st">"R2"</span>,<span class="st">"DF"</span><span class="op">)</span></span>
<span><span class="va">T1</span></span>
<span><span class="co">#&gt;   Function Model Categories Intercept CI95% Slope CI95% R2 DF</span></span>
<span><span class="co">#&gt; 1       NA    NA         NA        NA    NA    NA    NA NA NA</span></span>
<span><span class="co">#&gt; 2       NA    NA         NA        NA    NA    NA    NA NA NA</span></span>
<span><span class="co">#&gt; 3       NA    NA         NA        NA    NA    NA    NA NA NA</span></span></code></pre></div>
<p>To store the results of each fitted model, a list called
<code>List_Tables</code> was created. Each item in the list contains the
customized table <code>T1</code>, which is initially filled with
<code>NA</code> values.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Create model list including empty T1 table</span></span>
<span><span class="va">T1_model_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">modelos</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="va">T1</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">modelos</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#List_Tables &lt;- list("Fresh"= T1_model_list,</span></span>
<span><span class="co">#                    "Frozen"= T1_model_list,</span></span>
<span><span class="co">#                    "Total" = T1_model_list)</span></span>
<span><span class="va">List_Tables</span> <span class="op">&lt;-</span> <span class="va">T1_model_list</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="coincident-curves-test-table-">Coincident Curves Test Table.<a class="anchor" aria-label="anchor" href="#coincident-curves-test-table-"></a>
</h5>
<p>List_TCCT store the values and calculus for the Coincident Curves
Test</p>
<p>To store the results of each model regressions, an empty matrix of 4
rows and 8 columns are created. The table <code>CCT</code> stores the
values and calculus for the Coincident Curves Test between weight
categories: <strong>Fresh</strong>, <strong>Frozen</strong>,
<strong>Total</strong> and <strong>Joined</strong> (sum of values of
<strong>Fresh</strong>, <strong>Frozen</strong>): the residual sum of
squares <strong>RSS</strong>, degree of freedom <strong>DF</strong>,
Analysis of the Residual Sum of Squares <strong>ARSS</strong>,
<strong>F-table</strong>, <strong>p-value</strong> and decision criteria
for
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>α</mi><annotation encoding="application/x-tex">\alpha</annotation></semantics></math>=
0.05 <strong>Criteria</strong>.</p>
<p>To store the results of each fitted model, a list called
<code>List_TCCT</code> was created. Each item in the list contains the
customized table <code>CCT</code>, which is initially filled with
<code>NA</code> values.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">catego</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Fresh"</span>,<span class="st">"Frozen"</span>,<span class="st">"Total"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">nrow</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">catego</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span></span>
<span>            </span>
<span><span class="va">CCT</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="cn">NA</span>,nrow<span class="op">=</span><span class="va">nrow</span>,ncol<span class="op">=</span><span class="fl">8</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">CCT</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">catego</span>,<span class="st">"Joined"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">CCT</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Model"</span>,<span class="st">"Data"</span>,<span class="st">"RSS"</span>,<span class="st">"DF"</span>,<span class="st">"ARSS"</span>,<span class="st">"F-table"</span>,</span>
<span>                   <span class="st">"p-value"</span>,<span class="st">"Criteria"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create model list including empty T1 table</span></span>
<span><span class="va">List_TCCT</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">modelos</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="va">CCT</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">modelos</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">CCT</span></span></code></pre></div>
</div>
<div class="section level5">
<h5 id="section"></h5>
</div>
</div>
<div class="section level4">
<h4 id="regression-results">Regression results<a class="anchor" aria-label="anchor" href="#regression-results"></a>
</h4>
<p>The figure list <code>List_Figures</code> is stored in a list for
each category: 1) fresh; 2) frozen-thawed and 3) total.</p>
<p>For each category list, the elements are named using the vectors
values of <code>X_names</code>: L<sub>T</sub><em>vs.</em>
L<sub>S</sub>, L<sub>T</sub><em>vs.</em> L<sub>B</sub>, L<sub>S</sub><em>vs.</em> L<sub>B</sub>, W<sub>T</sub><em>vs.</em> W<sub>B</sub>,
W<sub>T</sub><em>vs.</em> W<sub>fi</sub>, W<sub>B</sub><em>vs.</em>
W<sub>fi</sub>, L<sub>T</sub><em>vs.</em> W<sub>T</sub>, L<sub>T</sub><em>vs.</em> W<sub>B</sub>, L<sub>T</sub><em>vs.</em>
W<sub>fi</sub>)</p>
<p>The <code>List_wi</code> store the the weighted values
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>w</mi><mi>i</mi></msub><annotation encoding="application/x-tex">w_i</annotation></semantics></math>
from each model.</p>
</div>
<div class="section level4">
<h4 id="list_dfa_long">List_dfa_long<a class="anchor" aria-label="anchor" href="#list_dfa_long"></a>
</h4>
<p>For each landed category, the data frames in <code>List_fit</code>
were transformed into long-form data frames and stored in
List_fit_long.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span>          </span>
<span><span class="va">X_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">vector</a></span><span class="op">(</span>mode<span class="op">=</span><span class="st">'list'</span>, length<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">modelos</span><span class="op">)</span><span class="op">)</span></span>
<span>         </span>
<span><span class="va">X_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"LT_LS"</span>,</span>
<span>             <span class="st">"LT_LB"</span>,</span>
<span>             <span class="st">"LS_LB"</span>,</span>
<span>             <span class="st">"WT_WB"</span>,</span>
<span>             <span class="st">"WT_Wfi"</span>,</span>
<span>             <span class="st">"WB_Wfi"</span>,</span>
<span>             <span class="st">"LT_WT"</span>,</span>
<span>             <span class="st">"LT_WB"</span>,</span>
<span>             <span class="st">"LT_Wfi"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">X_list</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">X_names</span> </span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hugo Aguirre-Villaseñor.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
